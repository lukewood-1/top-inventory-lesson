<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/insert.css">
  <title>Delete entry</title>
</head>
<body>
  <%- include('header') %>
  <main>
    <h1>Delete entry</h1>

    <div class="wrapper">
      <div class="delete-category">
        <h2>Delete category</h2>
        <form action="/manage/delete/category" method="post">

          <select name="id" id="target-category">
            <option value="NULL" disabled selected>Choose a category</option>
            <% categories.forEach( c => { %>
              <option value="<%= c.id %>"><%= c.name %></option>
            <% }) %>
          </select>

          <button type="button" popovertarget="formConfirm-c" popovertargetaction="show">Delete</button>

          <div id="formConfirm-c" class="formConfirm" popover="manual">
            <h2>Are you sure? This will delete all paths AND actions under this category.</h2>
            <div>
              <button type="button" popovertarget="formConfirm-c" popovertargetaction="hide">Actually, no</button>
              <button type="submit">Sure</button>
            </div>
          </div>
        </form>
      </div>

      <div class="delete-path">
        <h2>Delete path</h2>
        <form action="/manage/delete/path" method="post">

          <select name="id" id="target-path">
            <option value="NULL" disabled selected>Choose a path</option>
            <% paths.forEach( p => { %>
              <option value="<%= p.id %>"><%= p.name %></option>
            <% }) %>
          </select>

          <button popovertarget="formConfirm-p" popovertargetaction="show" type="button">Delete</button>

          <div id="formConfirm-p" class="formConfirm" popover="manual">
            <h2>Are you sure? This will delete all actions under this path.</h2>
            <div>
              <button type="button" popovertarget="formConfirm-p" popovertargetaction="hide">Actually, no</button>
              <button type="submit">Sure</button>
            </div>
          </div>
        </form>
      </div>

      <div class="delete-action">
        <h2>Delete action</h2>
        <form action="/manage/delete/action" method="post">

          <select name="id" id="target-action">
            <option value="NULL" disabled selected>Choose an action</option>
            <% actions.forEach( a => { %>
              <option value="<%= a.id %>"><%= a.name %></option>
            <% }) %>
          </select>

          <button type="submit">Delete</button>

        </form>
      </div>
    </div>
    
  </main>
  <%- include('footer') %>
</body>
</html>